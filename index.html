<!DOCTYPE html>
<html lang="em">


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0">

    <title> Das Abenteuer beginnt</title>



    <style>
        html {
            font-size: clamp(16px, 3.8vh, 6.9vh);
            overflow: hidden;
        }
        
        .header {
            width: 100%;
            height: clamp(25px, 8.8vh, 12.8vh);
            font-weight: 767;
            padding-bottom: clamp(8px, 2.5vh, 3.8vh);
            margin-top: clamp(6px, 1.5vh, 1.8vh);
            margin-bottom: clamp(30px, 5.5vh, 11.5vh);
            background-image: url("https://dl.dropbox.com/scl/fi/oa54y9wsph2x18fn7tzrh/0d1c42230aec5bebb4c515f93ea11bde-removebg-preview.png?rlkey=yct0vjc5epe26y1y7fhyzm46r&dl=0");
            background-size: 100% 100%;
            background-position: center;
            background-repeat: no-repeat;
            text-justify: distribute;
            text-align: right;
            grid-column-start: 2;
            grid-column-end: 5;
        }
        
        body {
            width: clamp(340px, 100vw, 100vw);
            height: clamp(125px, 96vh, 100vh);
            margin: auto auto auto auto;
            background-image: url("https://dl.dropbox.com/s/1uuaw2aenozkzxj/taverne%202.jpg?dl=0");
            background-size: 100% 100%;
            background-position: center, center;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }
        
        .container {
            width: clamp(300px, 100vw, 100vw);
            height: clamp(120px, 95vh, 100vh);
            font-family: 'Lucida Sans';
            display: grid;
            grid-template-columns: 5% 25% 50% 15% 5%;
            grid-template-rows: 5% 45% 25% 15%;
            box-sizing: border-box;
        }
        
        .bottomRow {
            width: clamp(145px, 32vw, 44vw);
            height: clamp(15px, 35vh, 49vh);
            color: rgb(190, 151, 21);
            margin-left: clamp(35px, 12vw, 18.5vh);
            font-weight: 770;
            grid-column-start: 3;
            grid-column-end: 5;
            grid-row-start: 4;
            grid-row-end: 4;
        }
        
        input[type=text],
        input[type=password] {
            height: clamp(25px, 5.5vh, 8.5vh);
            width: clamp(140px, 22vw, 33vw);
            border: ridge #c2b508c9 4px;
        }
        
        #inputContainer,
        #greetingContainer {
            display: block;
        }
        
        .nmes {
            width: 24vw;
        }
        
        .Charas {
            width: clamp(150px, 60vw, 71vw);
            height: clamp(45px, 29vh, 51vh);
            font-size: clamp(1.5vh, 3.2vh, 3.5vh);
            display: flex;
            margin-top: clamp(1.5vh, 3.2vh, 3.5vh);
            align-content: center;
            justify-content: space-evenly;
            align-self: center;
            justify-self: center;
            color: azure;
            font-weight: 800;
            text-decoration: underline;
            grid-column-start: 2;
            grid-column-end: 5;
            grid-row-start: 2;
            grid-row-end: 2;
        }
        
        button:focus,
        button:hover {
            border-color: yellow;
            outline: none;
        }
        
        .char1 {
            width: clamp(60px, 15vw, 14vw);
            height: clamp(40px, 40vh, 46vh);
            border: ridge #828285 3px;
            background-color: rgba(62, 243, 38, 0.357);
            background-image: url("https://dl.dropbox.com/scl/fi/ho47jnmwjt02vkrv09iay/char-3.jpg?rlkey=rxakwev4qdsk4201tyxtexiwt&dl=0");
            background-size: 100% 100%;
            background-repeat: no-repeat;
            background-position: center;
            text-align: center;
            justify-content: center;
            align-items: center;
            justify-items: center;
            align-content: center;
            display: table;
        }
        
        .char1:focus,
        .char1:hover {
            border-color: yellow;
            outline: none;
        }
        
        .char2 {
            width: clamp(60px, 15vw, 14vw);
            height: clamp(40px, 40vh, 46vh);
            border: ridge #828285 3px;
            text-align: center;
            background-color: rgba(230, 23, 23, 0.377);
            background-image: url("https://dl.dropbox.com/s/mimlbldehzz94sd/char3%203.jpg?dl=0");
            background-size: 100% 100%;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .char2:focus,
        .char2:hover {
            border-color: yellow;
            outline: none;
        }
        
        .char3 {
            width: clamp(60px, 15vw, 14vw);
            height: clamp(40px, 40vh, 46vh);
            border: ridge #828285 3px;
            background-color: rgb(35, 17, 233, 0.377);
            background-image: url("https://dl.dropboxusercontent.com/scl/fi/uw817qh1ouwbwb1mazwpu/char1-1.jpg?rlkey=42mnhczgibg2c8zpoa50tufoi&dl=0");
            background-size: 100% 100%;
            background-repeat: no-repeat;
            background-position: center;
            text-align: center;
        }
        
        .char3:focus,
        .char3:hover {
            border-color: yellow;
            outline: none;
        }
        
        .classWrapper {
            height: 55vh;
            width: 15vw;
        }
        
        .tooltip {
            height: clamp(110px, 14vh, 15vh);
            width: clamp(125px, 14vw, 25vw);
            font-size: clamp(12px, 2.3vh, 2.8vh);
            font-weight: 666;
            padding-left: clamp(12px, 2.3vh, 2.8vh);
            padding-right: clamp(12px, 2.3vh, 2.8vh);
            padding-top: clamp(12px, 2.3vh, 2.8vh);
            padding-bottom: clamp(12px, 2.3vh, 2.8vh);
            margin-left: clamp(90px, 12.5vw, 1.5vw);
            color: blanchedalmond;
            background-color: black;
            text-justify: center;
            align-content: center;
            align-self: center;
            justify-self: center;
            display: block;
            text-align: center;
            border: ridge #626263 2.5px;
            grid-column-start: 4;
            grid-column-end: 5;
            grid-row-start: 3;
            grid-row-end: 3;
        }
        
        a {
            width: 100%;
            position: relative;
            padding: 2% 0 1% 1%;
            font-size: 2.5vh;
            font-weight: bold;
            color: #991919;
            text-decoration: none;
            text-transform: uppercase;
            transition: 0.5s;
            letter-spacing: 1px;
        }
        
        .wahlButton {
            height: clamp(25px, 2.5vh, 3.5vh);
            width: clamp(140px, 12vw, 17vw);
            height: 4.5vh;
            width: 11vw;
            align-self: center;
            justify-self: center;
            font-size: 2.2vh;
            font-weight: 600;
            margin-top: 2.5vh;
        }
        
        .audioControls {
            width: clamp(20px, 15vw, 101vw);
            height: clamp(45px, 1.5vh, 3.5vh);
            margin-top: clamp(16px, 3.5vh, 4.8vh);
        }
        
        .audioControls:focus,
        .audioControls:hover {
            border-color: yellow;
            outline: none;
        }
        
        .headtext {
            justify-self: center;
            align-self: center;
            width: 100%;
            height: clamp(22px, 6.5vh, 7.5vh);
            color: #f8bc30;
            letter-spacing: clamp(1px, 0.1vh, 0.5vh);
            text-shadow: 2px 3px #6a1414;
            margin-top: clamp(8px, 2.1vh, 3.5vh);
        }
    </style>

</head>

<body>

    <div class="container">

        <div class="header" id="head">
            <center>
                <div class="headtext"> Entdecke dein eigenes Abenteuer auf dieser Welt!</div>
            </center>

            <audio autoplay loop controls id="SpringSound" class="audioControls" src="https://dl.dropbox.com/scl/fi/hfo0wn5lidwlyoda7lqlz/Spring-Village.ogg?rlkey=qjeqicnq53bmpvt3b3px63up9&dl=0" type="audio/ogg">
            </audio>
        </div>
        <div class="tooltip" id="tooltip1">
            “Es wird eine lange Reise, doch wenigstens habt ihr dann, wenn ihr alt und grau seid, etwas zu erzählen....”

        </div>


        <div class="Charas">


            <div class="classWrapper">
                <div id="char1" class="char1">

                </div>
                <center> <button id="b1" class="wahlButton">WÄHLE MICH!</button></center>
            </div>

            <div class="classWrapper">
                <div id="char2" class="char2">
                </div>
                <center> <button id="b2" class="wahlButton">WÄHLE MICH!</button></center>
            </div>

            <div class="classWrapper">
                <div id="char3" class="char3">

                </div>
                <center> <button id="b3" class="wahlButton">WÄHLE MICH!</button></center>
            </div>
        </div>


        <div class="bottomRow">

            <div id="greetingContainer">
                <span id="greetingMessage"></span>
            </div>

            <div id="inputContainer">
                <input type="text" id="nameInput" placeholder="Gib deinen Namen ein">
            </div>

        </div>
    </div>

    </div>



</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.19/jquery.touchSwipe.js" integrity="sha512-gRg3MTbqGUwZiqkDRUj7BJOqiYX6tQDAkZVq6zCHfRUxBhoW0kRG4ASllaK31PIe+I+xdaJhLcZXbs2O2r8SRg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    document.getElementById("b1").setAttribute("disabled", false);
    document.getElementById("b2").setAttribute("disabled", false);
    document.getElementById("b3").setAttribute("disabled", false);



    document.addEventListener("DOMContentLoaded", function() {
        const inputContainer = document.getElementById("inputContainer");
        const nameInput = document.getElementById("nameInput");

        const storedName = localStorage.getItem("userName");

        if (storedName) {
            // Falls der Name im Local Storage vorhanden ist, zeige die Begrüßungsnachricht an
            greetMe(storedName);
            inputContainer.style.display = "none"; // Verstecke das Eingabefeld
        } else {
            // Falls der Name nicht im Local Storage vorhanden ist, zeige das Input-Feld an
            inputContainer.style.display = "block";
        }

        nameInput.addEventListener("keydown", function(event) {
            if (event.key === "Enter") {
                event.preventDefault();
                const userName = nameInput.value.trim();

                if (userName !== "") {
                    // Speichere den Namen im Local Storage
                    localStorage.setItem("userName", userName);

                    inputContainer.style.display = "none";
                    greetMe(userName);
                    document.getElementById("b1").removeAttribute("disabled");
                    document.getElementById("b2").removeAttribute("disabled");
                    document.getElementById("b3").removeAttribute("disabled");
                }
            }
        });
    });


    //

    function playAudioOnLoad(audioElement, volume) {
        audioElement.volume = volume;
        audioElement.addEventListener('load', () => {
            audioElement.play();
        });
        if (audioElement.readyState >= HTMLMediaElement.HAVE_ENOUGH_DATA) {

            audioElement.play();
        }
    }

    function myFunction0(e) {

        let tooltip0 = 'Es wird eine lange Reise!<br> Doch wenigstens habt ihr, wenn ihr alt und grau seid, etwas zu erzählen...';
        document.getElementById("tooltip1").innerHTML = tooltip0;
    }
    document.getElementById("head").onmouseover = function(event) {
        myFunction0(event)
    }

    document.getElementById("char1").onmouseover = function(event) {
        myFunction1(event)
    }

    document.getElementById("char2").onmouseover = function(event) {
        myFunction(event)
    }



    function myFunction(e) {

        let tooltip2 = 'Der Tribesman ist ein furchtloser Krieger.(+2 Angriff /+2 Verteidigung) ';
        document.getElementById("tooltip1").innerHTML = tooltip2;
    }

    function myFunction1(e) {

        let tooltip1 = 'Die Schildmaid verteidigt sich und ihren Clan! (+4 Verteidigung)';
        document.getElementById("tooltip1").innerHTML = tooltip1;
    }

    function myFunction2(e) {

        let tooltip3 = 'Der Ritter lässt seinen Glauben durch NICHTS erschüttern.(+4 Angriff)';
        document.getElementById("tooltip1").innerHTML = tooltip3;
    }
    cp1 = document.getElementById("char1");
    cp2 = document.getElementById("char2");
    cp3 = document.getElementById("char3");
    cp1.addEventListener("mouseover", myFunction); // berühren der portrait



    cp2.addEventListener("mouseover", myFunction1);
    cp2.addEventListener("touchstart", myFunction1);


    cp3.addEventListener("mouseover", myFunction2);
    cp3.addEventListener("touchstart", myFunction2);

    function clickersatz() {
        document.getElementById('nameInput').click(); // Löse das Click-Event aus
    }

    document.getElementById("nameInput").addEventListener('touchstart', clickersatz);

    // grüß funktion und tooltip ^

    //hero werte v 
    const MaidValues = {
        Title: "Anfänger",
        race: "Nord",
        Level: 1,
        Exp: 0,
        maxLp: 60,
        Lp: 60,
        Dmg: 5,
        Dodge: 8,
        Def: 4,
        Hit: 9,
    };

    const LizardValues = {
        Title: "Anfänger",
        race: "Tribesmen",
        Level: 1,
        Exp: 0,
        maxLp: 55,
        Lp: 55,
        Dmg: 7,
        Dodge: 7,
        Def: 2,
        Hit: 10,
    };

    const knightValues = {
        Title: "Anfänger",
        race: "Gothe",
        Level: 1,
        Exp: 0,
        maxLp: 50,
        Lp: 50,
        Dmg: 9,
        Dodge: 7,
        Def: 1,
        Hit: 11,
    };

    const heroValues = {
        Title: "",
        race: "",
        Level: "",
        Exp: "",
        maxLp: "",
        Lp: "",
        Dmg: "",
        Dodge: "",
        Def: "",
        Hit: "",
    };



    function buttonClick(event) {
        var clickedButtonId = event.target.id;

        if (clickedButtonId === 'b1') {
            console.log('Button 1 wurde geklickt.');

            heroValues.Title = MaidValues.Title;
            heroValues.race = MaidValues.race;
            heroValues.Level = MaidValues.Level;
            heroValues.Exp = MaidValues.Exp;
            heroValues.Lp = MaidValues.Lp;
            heroValues.maxLp = MaidValues.maxLp;
            heroValues.Dmg = MaidValues.Dmg;
            heroValues.Dodge = MaidValues.Dodge;
            heroValues.Def = MaidValues.Def;
            heroValues.Hit = MaidValues.Hit;
            saveHeroProfile();

        } else if (clickedButtonId === 'b2') {
            heroValues.Title = LizardValues.Title;
            heroValues.race = LizardValues.race;
            heroValues.Level = LizardValues.Level;
            heroValues.Exp = LizardValues.Exp;
            heroValues.Lp = LizardValues.Lp;
            heroValues.maxLp = LizardValues.maxLp;
            heroValues.Dmg = LizardValues.Dmg;
            heroValues.Dodge = LizardValues.Dodge;
            heroValues.Def = LizardValues.Def;
            heroValues.Hit = LizardValues.Hit;
            saveHeroProfile();

        } else if (clickedButtonId === 'b3') {

            heroValues.Title = knightValues.Title;
            heroValues.race = knightValues.race;
            heroValues.Level = knightValues.Level;
            heroValues.Exp = knightValues.Exp;
            heroValues.Lp = knightValues.Lp;
            heroValues.maxLp = knightValues.maxLp;
            heroValues.Dmg = knightValues.Dmg;
            heroValues.Dodge = knightValues.Dodge;
            heroValues.Def = knightValues.Def;
            heroValues.Hit = knightValues.Hit;
            console.log('Button 3 wurde geklickt.');
            saveHeroProfile();
        } else {
            console.log('Unbekannter Button wurde geklickt.');
        }
        location = "2StartSzene1.html";
    }


    document.getElementById("b1").addEventListener('click', buttonClick);
    document.getElementById("b2").addEventListener('click', buttonClick);
    document.getElementById("b3").addEventListener('click', buttonClick);




    function saveRace() {
        let oldRaceString = JSON.stringify(heroValues.race);
        localStorage.setItem("Race", oldRaceString);

    }

    function saveHeroProfile() { // nach jeder änderung an den zugehörigen werten!
        let oldHeroString = JSON.stringify(heroValues);
        localStorage.setItem("Attribute", oldHeroString);
        saveRace()
    }



    const inventar = [undefined, undefined, undefined, undefined];

    function saveInvi() {
        let oldInviString = JSON.stringify(inventar);
        localStorage.setItem("Inventar", oldInviString);
    }
    saveInvi();

    const questItemsFound = [undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, ]; // erste schlange..

    function saveProgress() {
        let oldQuestString = JSON.stringify(questItemsFound);
        localStorage.setItem("Progress", oldQuestString);
    }
    saveProgress();

    const verpflegung = [{ // ich arbeite mit dem begriff savedMoney aus loadcoins und reichtum[0].wert!
        name: 'Rationen',
        image: 'https://dl.dropbox.com/scl/fi/iw2x80tlnkuthz6cudvt8/Coin.png?rlkey=68rhbacrjtvxcawupqo3cypx1&dl=0',
        wert: "",
        anzahl: ""
    }];

    function saveRation() {
        let oldRationString = JSON.stringify(verpflegung[0].anzahl);
        localStorage.setItem("Verpflegung", oldRationString);
    }
    saveRation();

    const reichtum = [{
        name: 'Goldmünzen',
        image: 'https://www.geiger-edelmetalle.de/media/d4/4e/29/1680794041/b659f881b1e5a2f78f09f912f211a5e5.png',
        wert: ""
    }];

    function saveCoins() {
        let saveAsche = JSON.stringify((reichtum[0].wert));
        localStorage.setItem("Reichtum", saveAsche);
    }
    saveCoins();


    const springSound = document.getElementById("SpringSound");
    springSound.play();
    playAudioOnLoad(springSound, 0.2); // zu leise?
</script>

</html>
